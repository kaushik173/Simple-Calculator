<!DOCTYPE html>
<head>
    <title>Simple Calculator Kaushik Rathod</title>
    <link rel="stylesheet" href="./styles/style.css">
	<link href="https://fonts.googleapis.com/css?family=Fjalla+One&display=swap" rel="stylesheet">
</head>
<body style="text-align: center;">
    <div class="toggle-container">
        <label class="toggle-switch">
            <input type="checkbox" id="toggle-mode" />
            <span class="toggle-slider"></span>
        </label>
    </div>
	<div class="container">
        <h1>
            <a style="text-decoration: none; color: #f1c40f; margin-left: 1.25rem; cursor: pointer;" onclick="location.reload();">CALCULATOR</a>
            <img id="historybutton" src="./images/history.png" title="View History" alt="History Button">	
        </h1>
        <hr>
        <div class="calculator">
            <input type="text" name="screen" id="answer" readonly>
            <table align="center">
                <tr>
                    <td><button>(</button></td>
                    <td><button>)</button></td>
                    <td>
                        <div class="row">
                            <div class="col">
                                <button style="background-color: #f01600; font-weight: bold; color: #ecf0f1; width: 8vw;" onclick="clearAll()">C</button>
                            </div>
                            <div class="col">
                                <button style="background-color: #f01600; font-weight: bold; color: #ecf0f1;width: 8vw;" onclick="deleteLastEntry()">CE</button>
                            </div>
                        </div>
                    </td>
                    <td><button>%</button></td>
                </tr>
                <tr>
                    <td><button>7</button></td>
                    <td><button>8</button></td>
                    <td><button>9</button></td>
                    <td><button>X</button></td>
                </tr>
                <tr>
                    <td><button>4</button></td>
                    <td><button>5</button></td>
                    <td><button>6</button></td>
                    <td><button>-</button></td>
                </tr>
                <tr>
                    <td><button>1</button></td>
                    <td><button>2</button></td>
                    <td><button>3</button></td>
                    <td><button>+</button></td>
                </tr>
                <tr>
                    <td><button>0</button></td>
                    <td><button style="font-weight: bold;">.</button></td>
                    <td><button>/</button></td>
                    <td><button style="background-color: #25db72; font-weight: bold; color: #ecf0f1;">=</button></td>
                </tr>
            </table>
            <hr style="max-width: 50vw;">
            <div style="font-size:1rem; display: flex; align-items: center; justify-content: center;">
                Made with <img style="margin: 0.15rem;"> by <a style="text-decoration: none; color: #f1c40f; margin-left: 0.25rem;" target="" href="">Kaushik Rathod</a>
            </div>
        </div>
	</div>
    <div id="bar1" class = "bars"></div>
    <div id="bar2" class = "bars"></div>
    <div id="history"></div>
    
</body>
</html>
<script src="./scripts/history.js"></script>
<script src="./scripts/calculator.js"></script>
<script>
    //change mode dark-mode and light-mode
	const TOGGLEMODE = document.getElementById('toggle-mode');
	const CONTAINER = document.querySelector('.container');

	TOGGLEMODE.addEventListener('change', function() {
		CONTAINER.classList.toggle('dark-mode');
	});

    document.addEventListener('keydown', function (event) {
        handleKeyPress(event.key);
    });
    // This function will be responsible for handling the button press from the keyboard..Try these key also if want you can also change these settings,...
    function handleKeyPress(key) {
    switch (key) {
        case 'Enter':
            handlerButtonPress('=');
            break;
        case 'Delete':
        case 'Backspace':
            handlerButtonPress('CE');
            break;
        case '+':
        case '-':
        case '*':
        case '/':
        case '%':
            handlerButtonPress(key);
            break;
        default:
            // Check if the key is a number
            if (/^[0-9]$/.test(key)) {
                handlerButtonPress(key);
            }
    }
}
    // function handleKeyPress(key){
    //     //  "Enter" key is pressed, trigger the "=" button press
    //     if(key == 'Enter'){
    //         handlerButtonPress('=');
    //     }

    //     // "Delete" or "Backspace" key is pressed, trigger the "CE" button press
    //     if(key == 'Delete' || key == 'Backspace'){
    //         handlerButtonPress('CE');
    //     }

    //     //number key is pressed, trigger the corresponding number button press
    //     if(/[0-9]/.test(key)){
    //         handlerButtonPress(key);
    //     }

    //     //  operator key is pressed (+, -, *, /), trigger the corresponding operator button press
    //     if(/[\+\-\*\/%]/.test(key)){
    //         handlerButtonPress(key);
    //     }
    // }
    function handlerButtonPress(value){
        const BUTTON = document.querySelector(`button[value="${value}"]`);
        if(BUTTON){
            BUTTON.click();
        }else {
        console.error(`Button with value "${value}" not found.`);
       }
    }
</script>